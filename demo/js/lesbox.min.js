var selectDropDownClass;!function(s){s.fn.lesbox=function(e){var o,t,n,i,l,a,d,p,r,c,x=s.extend({dropdownIcon:"default",listHeading:"List Items",listName:"list_name",additionalLinkClass:""},e);n="lesbox-wrapper",selectDropDownClass=n,r=x.additionalLinkClass,o=this.attr("id"),t="#"+o;customBoxLinkClasses=""!==r?"lesbox-link lesbox-dropdown-link "+r:"lesbox-link lesbox-dropdown-link",customBoxWrapper="<div class='lesbox lesbox-dropdown-wrapper'></div>",selectBoxLink="<a href='#' class='"+customBoxLinkClasses+"'><span class='span lesbox__selected-item current-value'>"+x.listHeading+"</span></a>",downIcon="<span class='lesbox-link__icon'><img class='lesbox-icon' src='img/down-arrow.png'></img></span>",itemListBlock="<ul class='lesbox-list lesbox-dropdown-list'></ul>",itemListElement="<li class='lesbox-list-item'></li>",itemLinkElement="<a class='lesbox-list-item__link dropdown-item' href='#'></a>","default"!=x.dropdownIcon&&(downIcon="<span class='"+x.dropdownIcon+" lesbox-link__icon' aria-hidden='true'></span>"),i=s(this).children("select"),l=i.find("option"),option_len=l.length-1,s(this).find("select").addClass("select-box"),s(this).find("select").attr("name",x.listName),s(this).append(customBoxWrapper),s(this).find(".lesbox").append(selectBoxLink),s(this).find(".lesbox-link").append(downIcon),s(this).find(".lesbox").append(itemListBlock),l.each(function(e){e>0&&(a=s(this).val(),s(this).val(a),s(this).attr("data-item","option-"+e),s(this).attr("class","option-ele"),p=s(this).parents(t).find(".lesbox-list"),p.append(itemListElement),s(t).find(".lesbox-list-item").each(function(e){e++,s(this).attr("data-option","option-"+e)}))}),s(t).find(".lesbox-list-item").each(function(){s(this).append(itemLinkElement)}),l.each(function(e){a=s(this).val(),d=s(this).attr("data-item"),p.find("li[data-option=option-"+e+"]").children(".dropdown-item").text(a)}),s("#"+o+" option").each(function(e){(c=s(this).attr("data-href"))&&s(".lesbox-list-item[data-option=option-"+e+"] .dropdown-item").attr("href",c)}),s(t+" .lesbox-list-item .dropdown-item").on("click",function(e){var o=s(this).parents(".lesbox-list-item").attr("data-option"),t=s(this).text();s(this).parents(".lesbox-dropdown-wrapper").siblings(".select-box").find("option[data-item="+o+"]").prop("selected",!0),s(this).parents(".lesbox-dropdown-wrapper").find(".lesbox-dropdown-link .current-value").text(t),s(".lesbox-dropdown-wrapper").removeClass("open"),s("."+n+" .lesbox-dropdown-list").slideUp()})},s(document).on("click",function(e){var o;o=s(e.target),o.attr("class"),o.parents().hasClass(selectDropDownClass)?(o.hasClass("lesbox-dropdown-link")||o.parents().hasClass("lesbox-dropdown-link"))&&(o.parents(".lesbox-dropdown-wrapper").hasClass("open")?(s(".lesbox-dropdown-wrapper").removeClass("open"),s("."+selectDropDownClass+" .lesbox-dropdown-list").slideUp()):(s(".lesbox-dropdown-wrapper").removeClass("open"),s("."+selectDropDownClass+" .lesbox-dropdown-list").slideUp(),o.parents(".lesbox-dropdown-wrapper").addClass("open"),o.parents(".lesbox-dropdown-wrapper").find(".lesbox-dropdown-list").slideDown())):(s(".lesbox-dropdown-wrapper").removeClass("open"),s("."+selectDropDownClass+" .lesbox-dropdown-list").slideUp())})}(jQuery);