var selectDropDownClass;!function(s){s.fn.lesbox=function(e){var o,n,t,l,i,a,d,p,r,c=s.extend({dropdownClass:"lesbox-wrapper",dropdownIcon:"default",listHeading:"List Items",listName:"list_name",additionalLinkClass:""},e);t=c.dropdownClass,selectDropDownClass=t,r=c.additionalLinkClass,o=this.attr("id"),n="#"+o;customBoxLinkClasses=""!==r?"lesbox-link lesbox-dropdown-link "+r:"lesbox-link lesbox-dropdown-link",customBoxWrapper="<div class='lesbox lesbox-dropdown-wrapper'></div>",selectBoxLink="<a href='#' class='"+customBoxLinkClasses+"'><span class='span lesbox__selected-item current-value'>"+c.listHeading+"</span></a>",downIcon="<span class='lesbox-link__icon'><img class='dropdown-img' src='img/down-arrow.png'></img></span>",itemListBlock="<ul class='lesbox-list lesbox-dropdown-list'></ul>",itemListElement="<li class='lesbox-list-item'></li>",itemLinkElement="<a class='lesbox-list-item__link dropdown-item' href='#'></a>","default"!=c.dropdownIcon&&(downIcon="<span class='"+c.dropdownIcon+" lesbox-link__icon' aria-hidden='true'></span>"),l=s(this).children("select"),i=l.find("option"),option_len=i.length-1,s(this).find("select").addClass("select-box"),s(this).find("select").attr("name",c.listName),s(this).append(customBoxWrapper),s(this).find(".lesbox").append(selectBoxLink),s(this).find(".lesbox-link").append(downIcon),s(this).find(".lesbox").append(itemListBlock),i.each(function(e){e>0&&(a=s(this).val(),s(this).val(a),s(this).attr("data-item","option-"+e),s(this).attr("class","option-ele"),p=s(this).parents(n).find(".lesbox-list"),p.append(itemListElement),s(n).find(".lesbox-list-item").each(function(e){e++,s(this).attr("data-option","option-"+e)}))}),s(n).find(".lesbox-list-item").each(function(){s(this).append(itemLinkElement)}),i.each(function(e){a=s(this).val(),d=s(this).attr("data-item"),p.find("li[data-option=option-"+e+"]").children(".dropdown-item").text(a)}),s(n+" .lesbox-list-item .dropdown-item").on("click",function(e){e.preventDefault();var o=s(this).parents(".lesbox-list-item").attr("data-option"),n=s(this).text();s(this).parents(".lesbox-dropdown-wrapper").siblings(".select-box").find("option[data-item="+o+"]").prop("selected",!0),s(this).parents(".lesbox-dropdown-wrapper").find(".lesbox-dropdown-link .current-value").text(n),s(".lesbox-dropdown-wrapper").removeClass("open"),s("."+t+" .lesbox-dropdown-list").slideUp()})},s(document).on("click",function(e){var o;o=s(e.target),o.attr("class"),o.parents().hasClass(selectDropDownClass)?(o.hasClass("lesbox-dropdown-link")||o.parents().hasClass("lesbox-dropdown-link"))&&(e.preventDefault(),o.parents(".lesbox-dropdown-wrapper").hasClass("open")?(s(".lesbox-dropdown-wrapper").removeClass("open"),s("."+selectDropDownClass+" .lesbox-dropdown-list").slideUp()):(s(".lesbox-dropdown-wrapper").removeClass("open"),s("."+selectDropDownClass+" .lesbox-dropdown-list").slideUp(),o.parents(".lesbox-dropdown-wrapper").addClass("open"),o.parents(".lesbox-dropdown-wrapper").find(".lesbox-dropdown-list").slideDown())):(s(".lesbox-dropdown-wrapper").removeClass("open"),s("."+selectDropDownClass+" .lesbox-dropdown-list").slideUp())})}(jQuery);