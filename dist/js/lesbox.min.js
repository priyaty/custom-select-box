var selectDropDownClass;!function(s){s.fn.lesbox=function(o){var e,t,n,l,i,a,d,p,r,c,w=s.extend({dropdownClass:"lesbox-wrapper",dropdownIcon:"default",dropdownType:"default",listHeading:"List Items",listName:"list_name",additionalLinkClass:""},o);n=w.dropdownClass,selectDropDownClass=n,r=w.additionalLinkClass,e=this.attr("id"),t="#"+e;customBoxLinkClasses=""!==r?"lesbox-link lesbox-dropdown-link "+r:"lesbox-link lesbox-dropdown-link",customBoxWrapper="<div class='lesbox lesbox-dropdown-wrapper'></div>",selectBoxLink="<a href='#' class='"+customBoxLinkClasses+"'><span class='span lesbox__selected-item current-value'>"+w.listHeading+"</span></a>",downIcon="<span class='lesbox-link__icon'><img class='lesbox-icon' src='img/down-arrow.png'></img></span>",itemListBlock="<ul class='lesbox-list lesbox-dropdown-list'></ul>",itemListElement="<li class='lesbox-list-item'></li>",itemLinkElement="<a class='lesbox-list-item__link dropdown-item' href='#'></a>","default"!=w.dropdownIcon&&(downIcon="<span class='"+w.dropdownIcon+" lesbox-link__icon' aria-hidden='true'></span>"),l=s(this).children("select"),i=l.find("option"),option_len=i.length-1,s(this).find("select").addClass("select-box"),s(this).find("select").attr("name",w.listName),s(this).append(customBoxWrapper),s(this).find(".lesbox").append(selectBoxLink),s(this).find(".lesbox-link").append(downIcon),s(this).find(".lesbox").append(itemListBlock),i.each(function(o){o>0&&(a=s(this).val(),s(this).val(a),s(this).attr("data-item","option-"+o),s(this).attr("class","option-ele"),p=s(this).parents(t).find(".lesbox-list"),p.append(itemListElement),s(t).find(".lesbox-list-item").each(function(o){o++,s(this).attr("data-option","option-"+o)}))}),s(t).find(".lesbox-list-item").each(function(){s(this).append(itemLinkElement)}),i.each(function(o){a=s(this).val(),d=s(this).attr("data-item"),p.find("li[data-option=option-"+o+"]").children(".dropdown-item").text(a)}),s("#"+e+" option").each(function(o){(c=s(this).attr("data-href"))&&s(".lesbox-list-item[data-option=option-"+o+"] .dropdown-item").attr("href",c)}),s(t+" .lesbox-list-item .dropdown-item").on("click",function(o){o.preventDefault();var e=s(this).parents(".lesbox-list-item").attr("data-option"),t=s(this).text();s(this).parents(".lesbox-dropdown-wrapper").siblings(".select-box").find("option[data-item="+e+"]").prop("selected",!0),s(this).parents(".lesbox-dropdown-wrapper").find(".lesbox-dropdown-link .current-value").text(t),s(".lesbox-dropdown-wrapper").removeClass("open"),s("."+n+" .lesbox-dropdown-list").slideUp()})},s(document).on("click",function(o){var e;e=s(o.target),e.attr("class"),e.parents().hasClass(selectDropDownClass)?(e.hasClass("lesbox-dropdown-link")||e.parents().hasClass("lesbox-dropdown-link"))&&(console.log("link: "+e.attr("href")),e.parents(".lesbox-dropdown-wrapper").hasClass("open")?(s(".lesbox-dropdown-wrapper").removeClass("open"),s("."+selectDropDownClass+" .lesbox-dropdown-list").slideUp()):(s(".lesbox-dropdown-wrapper").removeClass("open"),s("."+selectDropDownClass+" .lesbox-dropdown-list").slideUp(),e.parents(".lesbox-dropdown-wrapper").addClass("open"),e.parents(".lesbox-dropdown-wrapper").find(".lesbox-dropdown-list").slideDown())):(s(".lesbox-dropdown-wrapper").removeClass("open"),s("."+selectDropDownClass+" .lesbox-dropdown-list").slideUp(),console.log("link: "+e.attr("href")))})}(jQuery);