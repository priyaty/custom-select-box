var selectDropDownClass,dropdown_type;!function(o){o.fn.lesbox=function(s){var e,t,n,l,i,a,d,p,r,c,w=o.extend({dropdownIcon:"default",listHeading:"List Items",listName:"list_name",additionalLinkClass:"",dropdownType:""},s);dropdownClass="lesbox-wrapper",dropdown_type=w.dropdownType,n=dropdownClass,selectDropDownClass=n,dropdown_type=w.dropdownType,r=w.additionalLinkClass,e=this.attr("id"),t="#"+e;customBoxLinkClasses=""!==r?"lesbox-link lesbox-dropdown-link "+r:"lesbox-link lesbox-dropdown-link",customBoxWrapper="<div class='lesbox lesbox-dropdown-wrapper'></div>",selectBoxLink="<a href='#' class='"+customBoxLinkClasses+"'><span class='span lesbox__selected-item current-value'>"+w.listHeading+"</span></a>",downIcon="<span class='lesbox-link__icon'><img class='lesbox-icon' src='img/down-arrow.png'></img></span>",itemListBlock="<ul class='lesbox-list lesbox-dropdown-list'></ul>",itemListElement="<li class='lesbox-list-item'></li>",itemLinkElement="<a class='lesbox-list-item__link dropdown-item' href='#'></a>","default"!=w.dropdownIcon&&(downIcon="<span class='"+w.dropdownIcon+" lesbox-link__icon' aria-hidden='true'></span>"),l=o(this).children("select"),i=l.find("option"),option_len=i.length-1,o(this).find("select").addClass("select-box"),o(this).find("select").attr("name",w.listName),o(this).append(customBoxWrapper),o(this).find(".lesbox").append(selectBoxLink),o(this).find(".lesbox-link").append(downIcon),o(this).find(".lesbox").append(itemListBlock),i.each(function(s){s>0&&(a=o(this).val(),o(this).val(a),o(this).attr("data-item","option-"+s),o(this).attr("class","option-ele"),p=o(this).parents(t).find(".lesbox-list"),p.append(itemListElement),o(t).find(".lesbox-list-item").each(function(s){s++,o(this).attr("data-option","option-"+s)}))}),o(t).find(".lesbox-list-item").each(function(){o(this).append(itemLinkElement)}),i.each(function(s){a=o(this).val(),d=o(this).attr("data-item"),p.find("li[data-option=option-"+s+"]").children(".dropdown-item").text(a)}),o("#"+e+" option").each(function(s){(c=o(this).attr("data-href"))&&o(".lesbox-list-item[data-option=option-"+s+"] .dropdown-item").attr("href",c)}),o(t+" .lesbox-list-item .dropdown-item").on("click",function(s){var e=o(this).parents(".lesbox-list-item").attr("data-option"),t=o(this).text();o(this).parents(".lesbox-dropdown-wrapper").siblings(".select-box").find("option[data-item="+e+"]").prop("selected",!0),o(this).parents(".lesbox-dropdown-wrapper").find(".lesbox-dropdown-link .current-value").text(t),o(".lesbox-dropdown-wrapper").removeClass("open"),o("."+n+" .lesbox-dropdown-list").slideUp()})},o(document).on("click",function(s){var e;e=o(s.target),e.attr("class"),e.parents().hasClass(selectDropDownClass)?(e.hasClass("lesbox-dropdown-link")||e.parents().hasClass("lesbox-dropdown-link"))&&(e.parents(".lesbox-dropdown-wrapper").hasClass("open")?(o(".lesbox-dropdown-wrapper").removeClass("open"),o("."+selectDropDownClass+" .lesbox-dropdown-list").slideUp()):(o(".lesbox-dropdown-wrapper").removeClass("open"),o("."+selectDropDownClass+" .lesbox-dropdown-list").slideUp(),e.parents(".lesbox-dropdown-wrapper").addClass("open"),e.parents(".lesbox-dropdown-wrapper").find(".lesbox-dropdown-list").slideDown())):(o(".lesbox-dropdown-wrapper").removeClass("open"),o("."+selectDropDownClass+" .lesbox-dropdown-list").slideUp())})}(jQuery);